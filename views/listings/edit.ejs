<%- layout("/layouts/boilerplate")%>

<div class="row mt-3">
    <div class="col-8 offset-2">
        <h3>Edit your Listing</h3>
    <form method="POST" action="/listings/<%=listing._id %>?_method=PUT" novalidate class="needs-validation" enctype="multipart/form-data">
        <!-- listing[] is key value pair of listing object here key is listing and 
            inside bracket is value so that in app.post we are extracting using
             listing only directly from body and not needed to use {title,description,...} -->
        <div class="mb-3">
            <label for="title" class="form-label"><b>Title</b></label>
            <input name="listing[title]" value="<%= listing.title %>" type="text" class="form-control" required>
            <div class="valid-feedback">Title looks good!</div>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label"><b>Descriptrion</b></label>
            <textarea name="listing[description]" class="form-control" required><%= listing.description %></textarea>
            <div class="invalid-feedback">Please enter a short description</div>
        </div>
        <div class="mb-3">
            Original Listing Image <br>
            <img src="<%= originalImageUrl %>">
        </div>
       <div class="mb-3">
            <label for="image" class="form-label"><b>Upload New Image</b></label>
            <input name="listing[image]"  type="file" class="form-control">
       </div>
       <div class="row">
        <div class="mb-3 col-md-4">
            <label for="price" class="form-label"><b>Price</b></label>
            <input name="listing[price]" value="<%= listing.price %>" type="number" class="form-control" required>
            <div class="invalid-feedback">Price should be valid</div>
        </div>
        <div class="mb-3 col-md-8">
            <label for="country" class="form-label"><b>Country</b></label>
            <input name="listing[country]" value="<%= listing.country %>" type="text" class="form-control" required>
            <div class="invalid-feedback">enter valid country</div>
        </div>
       </div>
       
        <div class="mb-3">
            <label for="location" class="form-label"><b>Location</b></label>
            <input name="listing[location]" value="<%= listing.location %>" type="text" class="form-control" required>
            <div class="invalid-feedback">Location should be valid</div>
        </div>
        <button class="btn btn-dark edit-btn mt-3 mb-3">Edit</button>
    </form>
    </div>
</div>

    
